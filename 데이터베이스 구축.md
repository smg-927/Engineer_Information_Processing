## 트랜잭션
- 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기위한 작업의 단위
### 트랜잭션의 상태

| 상태    | 설명                                          |
| ----- | ------------------------------------------- |
| 활동    | 실행중인 상태                                     |
| 실패    | 실행에 오류가 발생하여 중단된 상태                         |
| 철회    | 트랜잭션이 비정상적으로 종료되어 Rollback연산을 수행한 상태        |
| 부분 완료 | 트랜잭션을 모두 성공적으로 실행한 후 Commit 연산이 실행되기 직전인 상태 |
| 완료    | 트랜잭션을 모두 성공적으로 실행한 후 Commit연산을 실행한 후의 상태    |
### 트랜잭션의 특성

| 이름            | 설명                                                                                                  |
| ------------- | --------------------------------------------------------------------------------------------------- |
| 원자성           | 트랜잭션의 연산은 모두 완료되던지 아니면 전혀 반영되지 않도록 Rollback되어야 함.                                                   |
| 일관성           | 트랜잭션이 실행을 성공적으로 완료하면 언제나 일관성있는 데이터베이스 상태로 변환. 시스템이 가지고 있는 고정요소는 트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야 함. |
| 독립성, 격리성, 순차성 | 둘 이상의 트랜잭션이 동시에 병행 실행되는 경우 하나가 완전히 완료 되기 전까지 참조 불가능                                                 |
| 영속성, 지속성      | 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야 함.                                                      |
### CRUD분석
- 생성, 읽기, 갱신, 삭제의 앞 글자만 모아서 만든 용어 데이터베이스 테이블에 변화를 주는 트랜잭션의 CRUD연산에 대해 CRUD 매트릭스를 작성하여 분석한다.

### Index
- 인덱스는 데이터 레코드를 빠르게 접근하기 위해 <키 값, 포인터> 쌍으로 구성되는 데이터 구조이다.

| 종류         | 설명                                                                    |
| ---------- | --------------------------------------------------------------------- |
| 트리 기반 인덱스  | 블록들이 트리구조를 이루고 있는 것                                                   |
| 비트맵 인덱스    | 인덱스 컬럼의 데이터를 Bit값인 0 또는 1로 변환하여 인덱스 키로 사용                             |
| 함수기반 인덱스   | 컬럼의 값 대신 컬럼에 특정 함수나 수식을 적용하여 산출된 값을 사용하는 것으로 B+ 트리 인덱스 또는 비트맵 인덱스를 생성 |
| 비트맵 조인 인덱스 | 다수의 조인된 객체로 구성된 인덱스                                                   |
| 도메인 인덱스    | 개발자가 필요한 인덱스를 직접 만들어 사용                                               |

### 관계대수
- 관계형 데이터베이스에서 원하는 정보와 그 정보를 검색하기 위해서 어떻게 유도하는가를 기술하는 절차적인 언어
- 순수 관계 연산자 : Select, Project, Join, Division
- 일반 집합 연산자 :  UNION, INTERSECTION, DIFFERENCE, CARTESIAN
### DDL(데이터 정의어)
- Schema, domain, table 등을 정의하거나 변경 또는 삭제할 때 사용하는 언어이다. 

| 명령어    | 기능                       |
| ------ | ------------------------ |
| CREATE | 정의함                      |
| ALTER  | Table에 대한 정의를 변경하는 데 사용함 |
| DROP   | 삭제함                      |
### DML(데이터 조작어)
- 응용 프로그램이나 질의어를 통하여 저장된 데이터를 실질적으로 처리하는 데 사용되는 언어이다.

| 명령어    | 기능                |
| ------ | ----------------- |
| SELECT | 조건이 맞는 튜플을 검색     |
| INSERT | 새로운 튜플을 삽입        |
| DELETE | 조건에 맞는 튜플을 삭제     |
| UPDATE | 조건에 맞는 튜플의 내용을 변경 |

### DCL(데이터 제어어)
- 데이터의 보안, 무결성, 회복, 병행 수행 제어 등을 정의하는 데 사용되는 언어

| 명령어      | 기능                                                 |
| -------- | -------------------------------------------------- |
| COMMIT   | 명령에 의해 수행된 결과를 실제 물리적 디스크로 저장하고, 완료되었음을 관리자에게 알려줌. |
| ROLLBACK | 데이터베이스 조작 작업이 비정상적으로 종료되었을 때 원래의 상태로 복구함.          |
| GRANT    | 데이터베이스 사용자에게 사용 권한을 부여함.                           |
| REVOKE   | 데이터베이스 사용자의 사용 권한을 취소함.                            |

## 릴레이션
- 데이터들을 표의 형태로 표현한 것
![[Pasted image 20250506131734.png]]
튜플: 릴레이션을 구성하는 각각의 행
속성: 데이터베이스를 구성하는 가장 작은 논리적 단위
도메인: 하나의 속성이 취할 수 있는 같은 타입의 원자값들의 집합

#### 키
- 후보키 : 릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합. 릴레이션에 있는 모든 튜플에 대해서 유일성과 최소성을 만족시켜야 함.
- 기본키 :  후보키 중에서 특별히 선정된 주키로 중복된 값을 가질 수 없음. 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성, 기본키는 NULL값을 가질 수 없다.
- 대체키 : 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키
- 슈퍼키 : 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키로서 릴레이션을 구성하는 모든 튜플들 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타내지 않음.
- 외래키 : 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합
#### 무결성
- 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계의 실제 값이 일치하는 정확성을 의미
- 개체 무결성 : 기본 테이블의 기본키를 구성하는 어떤 속성도 Null값과 중복값을 가질 수 없다.
- 도메인 무결성 : 주어진 속성 값이 정의된 도메인에 속한 값이어야 한다는 규정
- 참조 무결성 : 외래 키 값은 Null이거나 참조 릴레이션의 기본 키 값과 동일해야 한다. 
- 사용자 정의 무결성 : 속성 값들이 사용자가 정의한 제약 조건에 만족해야 한다.
#### 뷰
- 사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 테이블로부터 유도된, 이름을 가지는 가상 테이블이다.
- 장점
	- 논리적 데이터 독립성을 제공
	- 동일 데이터에 대해 동시에 여러 사용자의 상이한 응용이나 요구를 지원
	- 사용자의 데이터 관리를 간단하게 함.
	- 접근 제어를 통한 자동 보안이 제공됨.
- 단점
	- 독립적인 인덱스를 가질 수 없음.
	- 뷰의 정의를 변경할 수 없음.
	- 뷰로 구성된 내용에 대한 삽입, 삭제, 갱신, 연산에 제약이 따름

## 분산데이터베이스
- 논리적으로 하나의 시스템에 속하지만 물리적으로 여러 컴퓨터 사이트에 분산되어있는 데이터 베이스

| 구성요소      | 설명                                                       |
| --------- | -------------------------------------------------------- |
| 분산 처리기    | 자체적으로 처리능력을 가지며, 지리적으로 분산되어있는시스템                         |
| 분산 데이터베이스 | 지리적으로 분산되어 있는 데이터베이스로서 해당 지역의 특성에 맞게 데이터베이스가 구성됨         |
| 통신 네트워크   | 분산 처리기들을 통신망으로 연결하여 논리적으로 하나의 시스템처럼 작동할 수 있도록 하는 통신 네트워크 |
#### 분산데이터베이스의 목표
- 위치 투명성(Location Transparency) : 액세스하려는 데이터베이스의 실제 위치를 알 필요 없음
- 중복 투명성(Replication Transparency) : 동일 데이터가 여러 곳에 중복되어 있더라도 사용자는 하나의 데이터만 존재하는 것 처럼 사용.
- 병행 투명성(Concurrency Transparency) : 분산 데이터베이스와 관련된 다수의 트랜잭션들이 동시에 실현되어도 결과에는 영향을 받지않음.
- 장애 투명성(Failure Transparency) : 트랜잭션 DBMS, 네트워크, 컴퓨터 장애에도 불구하고 트랜잭션을 정확하게 처리

분산데이터베이스의 장단점
- 장점
	- 지역 자치성이 높음
	- 자료의 공유성이 향상됨
	- 분산 제어가 가능함
	- 시스템 성능이 향상됨
	- 중앙 컴퓨터에 장애가 전체시스템에 영향을 기치지 않음.
	- 효용성과 융통성이 높음
	- 신뢰성 및 가용성 높음
	- 점진적 시스템 용량 확장 용이
- 단점
	- DBMS가 수행할 기능이 복잡
	- 데이터베이스 설계가 어려움
	- 소프트웨어 개발 비용이 증가함
	- 처리 비용이 증가함
	- 잠재적 오류가 증가함
## 정규화의 개요
- 함수적 종속성 등의 종속성 이론을 이용하여 잘못 설계된 관계형 스키마를 더 작은 속성의 세트로 쪼개어 바람직한 스키마로 만들어 가는 과정
### 정규화의 목적
- 데이터 구조의 안정성 및 무결성 유지
- 어떠한 릴레이션이라도 데이터베이스 내에서 표현 가능하게 만든다.
- 효과적인 검색 알고리즘을 생성할 수 있다.
- 효과적인 검색 알고리즘을 생성할 수 있다.
- 데이터 중복을 배제하여 이상의 발생 방지 및 자료 저장 공간의 최소화가 가능하다.
- 데이터 삽입 시 릴레이션을 재구성할 필요성 줄임
- 데이터 모형의 단순화 가능
- 속성의 배열 상태 검증 가능
- 개체와 속성의 누락 여부 확인 가능
- 자료 검색과 추출의 효율성 추구
### 정규화 과정
![[Pasted image 20250506140716.png]]
### 이상(anormaly)의 개념 및 종류
- 정규화를 거치지 않으면 데이터베이스 내에 데이터들이 불필요하게 중복되어 릴레이션 조작시 예기치 못한 현상을 이상이라 한다.
- 삽입 이상 : 릴레이션에 데이터를 삽입할 때 의도와는 상관 없이 원하지 않은 값들이 함께 삽입되는 현상
- 삭제 이상 : 릴레이션에서 한 튜플을 삭제할 때 의도와는 상관없는 값들도 함께 삭제되는 연쇄가 일어나는 현상
- 갱신 이상 : 릴레이션에서 튜플에 있는 속성값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상 

### 반정규화
- 시스템의 성능 향상, 개발 및 운영의 편의성을 위해 정규화된 데이터 모델을 통합, 중복, 분리하는 과정으로 의도적으로 위배하는 행위

| 방법        | 설명                                                                                                    |
| --------- | ----------------------------------------------------------------------------------------------------- |
| 테이블 통합    | 두 개의 테이블이 조인되는 경우가 많아 하나의 테이블로 합쳐 사용하는 것이 성능 향상에 도움이 될 경우 수행                                          |
| 테이블 분할    | 테이블을 수직 또는 수평으로 분할 하는 것. <br>수평분할 : 레코드를 기준으로 테이블을 분할하는 것<br>수직분할 : 하나의 테이블에 속성이 너무 많을 경우 테이블을 분할하는 것 |
| 중복 테이블 추가 | 여러 테이블에서 데이터를 추출해서 사용해야 하거나 다른 서버에 저장된 테이블을 이용해야 하는 경우 중복 테이블을 추가하여 작업의 효율성을 향상시킬 수 있음.               |
| 중복 속성 추가  | 조인해서 데이터를 처리할 때 데이터를 조회하는 경로를 단축하기 위해 자주 사용하는 속성을 하나 더 추가하는 것                                         |
